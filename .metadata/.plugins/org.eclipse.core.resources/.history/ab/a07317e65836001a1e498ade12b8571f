package fr.epita.quizmanager.launcher;

public class Launcher {
	private static List<MCQQuestion> mcqQuestionList = new ArrayList<MCQQuestion>();

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String option = "";
		Scanner scanner = new Scanner(System.in);

		while (!option.equals("3")) {
			createMenu(scanner);
			option = scanner.nextLine();
			switch (option) {
			case "1":
				createQuestions(scanner);
				break;
			case "2":
				quizStart(scanner);
				break;
			case "3":
				System.out.println("Exit program...");
				break;
			default:
				System.out.println("Invalid option! Please choose again.");
				break;
			}
		}
		System.out.println("Goodbye!");
		scanner.close();
	}

	// To create main menu
	private static void createMenu(Scanner scanner) {
		System.out.println("\n----------QUIZ MANAGER----------");
		System.out.println("1. Create questions.");
		System.out.println("2. Quiz.");
		System.out.println("3. Exit.");
		System.out.println("Please choose an option: ");
	}

	private static void createQuestions(Scanner scanner) {
		String isContinue = "";
		Integer count = 1;
		do {
			System.out.println("\n-----Create questions-----");
			System.out.println("Enter question " + count);
			String content = scanner.nextLine();
			List<MCQChoice> mcqChoices = new ArrayList<MCQChoice>();

			for (char c = 'A'; c <= 'D'; c++) {
				System.out.println("Enter choice " + c);
				String choice = scanner.nextLine();
				System.out.println("Is it correct answer? (Y/N) ");
				Boolean isCorrect = scanner.nextLine().equalsIgnoreCase("y");
				MCQChoice mcqChoice = new MCQChoice();
				mcqChoice.setChoice(choice);
				mcqChoice.setCorrect(isCorrect);
				mcqChoices.add(mcqChoice);
			}

			MCQQuestion mcqQuestion = new MCQQuestion();

			mcqQuestion.setContent(content);
			mcqQuestion.setChoices(mcqChoices);

			mcqQuestionList.add(mcqQuestion);
			System.out.println("Continue? (Y/N)");
			isContinue = scanner.nextLine();
			count++;
		} while (isContinue.equalsIgnoreCase("y"));
	}

	private static void quizStart(Scanner scanner) {
		System.out.println("\n-----Start the Quiz-----");
		for (int i = 0; i < mcqQuestionList.size(); i++) {
			MCQQuestion question = mcqQuestionList.get(i);
			System.out.println("Question " + (i + 1));
			System.out.println(question.getContent());
			List<MCQChoice> choices = question.getChoices();
			char c = 'A';
			for (int j = 0; j < choices.size(); j++) {
				System.out.println(c + ". " + choices.get(j).getChoice());
				c++;
			}
		}
	}
}
